5fc8020c5ba9cd2e38beb5dfe013faf2103cdf0f
phpmyadmin@@phpmyadmin
diff --git a/libraries/core.lib.php b/libraries/core.lib.php
index 09f16227a7d..1daa176d4a6 100644
--- a/libraries/core.lib.php
+++ b/libraries/core.lib.php
@@ -724,7 +724,7 @@ function PMA_arrayRemove($path, &$array)
  */
 function PMA_linkURL($url)
 {
-    if (!preg_match('#^https?://#', $url) || defined('PMA_SETUP')) {
+    if (!preg_match('#^https?://#', $url)) {
         return $url;
     }
 
@@ -739,7 +739,12 @@ function PMA_linkURL($url)
     $arr = parse_url($url);
     parse_str($arr["query"], $vars);
     $query = http_build_query(array("url" => $vars["url"]));
-    $url = './url.php?' . $query;
+
+    if (defined('PMA_SETUP')) {
+        $url = '../url.php?' . $query;
+    } else {
+        $url = './url.php?' . $query;
+    }
 
     return $url;
 }
diff --git a/setup/frames/index.inc.php b/setup/frames/index.inc.php
index 50b59ff2baf..89de301b9c0 100644
--- a/setup/frames/index.inc.php
+++ b/setup/frames/index.inc.php
@@ -307,8 +307,8 @@
 
 echo '';
 echo '';
-echo '' , __('phpMyAdmin homepage') , '';
-echo ''
+echo '' , __('phpMyAdmin homepage') , '';
+echo ''
     ,  __('Donate') , '';
 echo ''
     , __('Check for latest version') , '';
