4d6d4b43c6186a13e67b92eaf70fe1b70ea24a09
mastodon@@mastodon
diff --git a/public/embed.js b/public/embed.js
index dac50745376c..d597fd33c701 100644
--- a/public/embed.js
+++ b/public/embed.js
@@ -15,7 +15,7 @@
     window.addEventListener('message', function(e) {
       var data = e.data || {};
 
-      if (data.type !== 'setHeight' || !iframes[data.id]) {
+      if (data.type !== 'setHeight' || !iframes[data.id] || window.location.origin !== e.origin || data.id.toString() === '__proto__') {
         return;
       }
 
