befb83c66f5b643e174897ea41a8a46679b26304
miraheze@@ManageWiki
diff --git a/includes/api/ApiQueryWikiConfig.php b/includes/api/ApiQueryWikiConfig.php
index 187972052..19394a7b2 100644
--- a/includes/api/ApiQueryWikiConfig.php
+++ b/includes/api/ApiQueryWikiConfig.php
@@ -1,4 +1,7 @@
 list();
+				
+				$config = MediaWikiServices::getInstance()->getConfigFactory()->makeConfig( 'managewiki' );
+	
+				foreach ( $config->get( 'ManageWikiSettings' ) as $setting => $options ) {
+					if ( isset( $options['requires']['visibility']['permissions'] ) ) {
+						unset( $wikiData['settings'][$setting] );
+					}
+				}
 			}
 
 			$mwExt = new ManageWikiExtensions( $wiki );
