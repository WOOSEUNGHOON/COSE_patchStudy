06217c66c8f9b114726b21633eabcd88ac9034aa
Aaron-Junker@@USOC
diff --git a/admin/pages/usersearch.php b/admin/pages/usersearch.php
index ca20cec77..0fb22a928 100644
--- a/admin/pages/usersearch.php
+++ b/admin/pages/usersearch.php
@@ -1,89 +1,118 @@
-
-" dir="ltr">
-    
-        
-        
-        getLang("admin") ?> - getLang("admin.user.search"); ?>
-    
-    
-        getLang("admin.exit"); ?>
-        getLang("admin.user.search.intro"); ?>
-        
-            getLang("admin.user.field.username"); ?>:
-            
-            getLang("admin.user.field.mail"); ?>:
-            
-            
-            " />
-        
-        db_link, $sql);
+userHasPermission("Backend", "User","Search")){
+?>
+    
+    " dir="ltr">
+        
+            
+            
+            getLang("admin") ?> - getLang("admin.user.search"); ?>
+        
+        
+            getLang("admin.exit"); ?>
+            getLang("admin.user.search.intro"); ?>
+            
+                getLang("admin.user.field.username"); ?>:
+                
+                getLang("admin.user.field.mail"); ?>:
+                
+                
+                " />
+            
+            db_link, $sql);
+                    }
                 }
-            }
-            if(isset($_GET["Mail"]) || isset($_GET["Name"])){
-                $userhere = False;
-                while($row = mysqli_fetch_array($db_erg, MYSQLI_ASSOC)){
-                    $userhere = True;
-        ?>
-                    getLang("admin.user.search.title")); ?>
-                    
-                        
-                            
-                                
-                                    Id:
-                                
-                                
-                                    
-                                
-                            
-                            
-                                
-                                    getLang("admin.user.field.mail"); ?>:
-                                
-                                
-                                    
-                                
-                            
-                            
-                                
-                                    getLang("admin.user.field.admin"); ?>
-                                
-                                
-                                    
-                                
-                            
-                            
-                                
-                                    getLang("admin.user.field.blocked"); ?>
-                                
-                                
-                                    
-                                
-                            
-                        
-                    
-        db_link, $sql);
+                    }
                 }
-                if(!$userhere&&$_GET["Mail"] !== ""){
-                    echo str_replace("%a", $U->getLang("admin.user.field.mail"), str_replace("%b", $_GET["Mail"], $U->getLang("admin.user.notFound.property")));
+                if(isset($_GET["Id"])){
+                    if($_GET["Id"] !== ""){
+                        $sql = "SELECT * FROM User WHERE Id='".mysqli::real_escape_string($_GET["Id"])."';";
+                        $dbRes = mysqli_query($U->db_link, $sql);
+                    }
                 }
-                if(!$userhere&&$_GET["Name"] !== ""){
-                    echo str_replace("%a", $U->getLang("admin.user.field.username"), str_replace("%b", $_GET["Name"], $U->getLang("admin.user.notFound.property")));
+                if(isset($_GET["Mail"]) || isset($_GET["Name"]) || isset($_GET["Id"])){
+                    $userhere = False;
+                    while($row = mysqli_fetch_array($dbRes, MYSQLI_ASSOC)){
+                        $userhere = True;
+            ?>
+                        getLang("admin.user.search.title")); ?>
+                        
+                            
+                                
+                                    
+                                        Id:
+                                    
+                                    
+                                        
+                                    
+                                
+                                
+                                    
+                                        getLang("admin.user.field.mail"); ?>:
+                                    
+                                    
+                                        
+                                    
+                                
+                                
+                                    
+                                        getLang("admin.user.field.permissionlevel"); ?>
+                                    
+                                    
+                                        getPermissionName($row["Type"]); ?>
+                                    
+                                
+                                
+                                    
+                                        getLang("admin.user.field.blocked"); ?>
+                                    
+                                    
+                                        getLang("admin.no"):$U->getLang("admin.yes"); ?>
+                                    
+                                
+                            
+                        
+            getLang("admin.user.field.mail"), str_replace("%b", $_GET["Mail"], $U->getLang("admin.user.notFound.property")));
+                    }
+                    if(!$userhere&&isset($_GET["Name"])&&$_GET["Name"]!==""){
+                        echo str_replace("%a", $U->getLang("admin.user.field.username"), str_replace("%b", $_GET["Name"], $U->getLang("admin.user.notFound.property")));
+                    }
+                    if(!$userhere&&isset($_GET["Id"])){
+                        echo str_replace("%a", $U->getLang("admin.user.field.id"), str_replace("%b", $_GET["Id"], $U->getLang("admin.user.notFound.property")));
+                    }
                 }
-            }
-        ?>
+            ?>
+        
+    
+
+  
+  " dir="ltr">
+    
+      
+      getLang("admin") ?> - getLang("admin.settings"); ?>
+    
+    
+        getLang("admin.exit"); ?>
+      getLang("rights.error"); ?>

-
\ No newline at end of file
+  
+
