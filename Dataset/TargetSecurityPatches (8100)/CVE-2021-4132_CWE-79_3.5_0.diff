55b1e3bf62c564db7c919f5293ec1e755c2958d6
livehelperchat@@livehelperchat
diff --git a/lhc_web/design/defaulttheme/tpl/lhuser/edit.tpl.php b/lhc_web/design/defaulttheme/tpl/lhuser/edit.tpl.php
index 43ba38f0c9..3f5ae2023b 100644
--- a/lhc_web/design/defaulttheme/tpl/lhuser/edit.tpl.php
+++ b/lhc_web/design/defaulttheme/tpl/lhuser/edit.tpl.php
@@ -47,14 +47,14 @@
 	   

-	        
+
 	        
-	        
+
 	        
getTranslation('user/edit','Username');?>*
disabled="disabled" class="form-control" type="text" ng-non-bindable name="Username" value="username);?>" />
     		
-    		
+
     		
getTranslation('user/edit','Password');?>
disabled="disabled" class="form-control" name="Password" value="password_temp_1) ? $user->password_temp_1 : '');?>" />
@@ -82,33 +82,33 @@
         		getTranslation('user/edit','E-mail');?>
disabled="disabled" class="form-control" name="Email" value="email;?>"/>
     		
-    		
+
     		
getTranslation('user/edit','Chat nickname');?>
disabled="disabled" class="form-control" name="ChatNickname" value="chat_nickname);?>" />
 			
-			
+
     		
getTranslation('user/edit','Name');?>
disabled="disabled" class="form-control" name="Name" value="name);?>"/>
     		
-    		
+
     		
getTranslation('user/edit','Surname');?>
disabled="disabled" class="form-control" name="Surname" value="surname);?>"/>
     		
-    		
+
     		
getTranslation('user/account','Job title');?>
disabled="disabled" class="form-control" name="JobTitle" value="job_title);?>"/>
     		
-    			    
+
     		
-    		
+
     		
-    		
+
     		  
-    		  
+
     		  

@@ -119,9 +119,9 @@
         		  


-    		
+
     		
-    		
+
     		

getTranslation('user/account','Skype');?>
@@ -195,9 +195,9 @@
             
disabled == 1 ? 'checked="checked"' : '' ?> />Â getTranslation('user/new','Disabled')?>

-    		    		    		
+
     		
-    		
+
     		
ng-init="accval.validForm=true" >
@@ -208,8 +208,8 @@
                 

-        		
-	
+        	
+
 	   

 
@@ -226,8 +226,8 @@
 		getTranslation('user/account','Account updated'); ?>
 			

-		
-		id);
 		  $userDepartamentsRead = erLhcoreClassUserDep::getUserDepartamentsIndividual($user->id, true);
 		  $userDepartamentsGroup = erLhcoreClassModelDepartamentGroupUser::getUserGroupsIds($user->id);
@@ -271,13 +271,13 @@
               );
           }
 		?>
-		
+
 		
-		
+
 		    
-		    
+
 		    
-		 
+		


 
@@ -318,7 +318,7 @@
         getTranslation('user/account','In order to change operator permissions you have to edit');?> getTranslation('user/account','roles');?>.

-				
+		


 
@@ -350,5 +350,5 @@
     

-	
+
 
diff --git a/lhc_web/design/defaulttheme/tpl/lhuser/new.tpl.php b/lhc_web/design/defaulttheme/tpl/lhuser/new.tpl.php
index 9296c7f6e7..dc7b9112a0 100644
--- a/lhc_web/design/defaulttheme/tpl/lhuser/new.tpl.php
+++ b/lhc_web/design/defaulttheme/tpl/lhuser/new.tpl.php
@@ -28,17 +28,17 @@
 		
 		
getTranslation('user/new','E-mail');?>
-		  
+		  


getTranslation('user/new','Password');?>
-		  
+		  


getTranslation('user/new','Repeat the new password');?>
-		  
+		  


@@ -47,22 +47,22 @@
 
 		
getTranslation('user/new','Chat nickname');?>
-			
+			


getTranslation('user/new','Name');?>
-		  
+		  


getTranslation('user/new','Surname');?>
-		  
+		  


getTranslation('user/account','Job title');?>
-		  
+		  


@@ -87,11 +87,11 @@
 		

getTranslation('user/account','Skype');?>
-				
+				


getTranslation('user/account','XMPP username');?>
-				
+				


 
diff --git a/lhc_web/design/defaulttheme/tpl/lhuser/parts/avatar_build.tpl.php b/lhc_web/design/defaulttheme/tpl/lhuser/parts/avatar_build.tpl.php
index 5f9074b68c..5964ea224e 100644
--- a/lhc_web/design/defaulttheme/tpl/lhuser/parts/avatar_build.tpl.php
+++ b/lhc_web/design/defaulttheme/tpl/lhuser/parts/avatar_build.tpl.php
@@ -1,4 +1,4 @@
-
+



diff --git a/lhc_web/lib/core/lhuser/lhuservalidator.php b/lhc_web/lib/core/lhuser/lhuservalidator.php
index dcbf6284d8..12d8efd138 100644
--- a/lhc_web/lib/core/lhuser/lhuservalidator.php
+++ b/lhc_web/lib/core/lhuser/lhuservalidator.php
@@ -177,7 +177,7 @@ public static function validateUser(& $userData, $params = array()) {
 		}
 		
 		if ( $form->hasValidData( 'Skype' ) && $form->Skype != '') {
-			$userData->skype = $form->Skype;
+			$userData->skype = mb_substr($form->Skype,0,50);
 		} else {
 			$userData->skype = '';
 		}
@@ -915,7 +915,7 @@ public static function validateAccount(& $userData) {
 		
 		if ( erLhcoreClassUser::instance()->hasAccessTo('lhuser','changeskypenick') ) {
 			if ( $form->hasValidData( 'Skype' ) && $form->Skype != '' ) {
-				$userData->skype = $form->Skype;
+				$userData->skype = mb_substr($form->Skype,0,50);
 			} else {
 				$userData->skype = '';
 			}
