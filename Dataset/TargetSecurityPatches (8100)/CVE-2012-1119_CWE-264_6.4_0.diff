dea7e315f3fc96dfa995e56e8810845fc07a47aa
mantisbt@@mantisbt
diff --git a/bug_actiongroup.php b/bug_actiongroup.php
index c68a07fb12..72c9c7b6c4 100644
--- a/bug_actiongroup.php
+++ b/bug_actiongroup.php
@@ -150,7 +150,8 @@
 		$f_project_id = gpc_get_int( 'project_id' );
 
 		if ( access_has_project_level( config_get( 'report_bug_threshold' ), $f_project_id ) ) {
-			bug_copy( $t_bug_id, $f_project_id, true, true, true, true, true, true );
+			# Copy everything except history
+			bug_copy( $t_bug_id, $f_project_id, true, true, false, true, true, true );
 		} else {
 			$t_failed_ids[$t_bug_id] = lang_get( 'bug_actiongroup_access' );
 		}
diff --git a/core/bug_api.php b/core/bug_api.php
index b3cca646df..1494337024 100644
--- a/core/bug_api.php
+++ b/core/bug_api.php
@@ -907,6 +907,10 @@ function bug_check_workflow( $p_bug_status, $p_wanted_status ) {
  * @param int p_target_project_id
  * @param bool p_copy_custom_fields
  * @param bool p_copy_relationships
+ * @param bool p_copy_history
+ * @param bool p_copy_attachments
+ * @param bool p_copy_bugnotes
+ * @param bool p_copy_monitoring_users
  * @return int representing the new bugid
  * @access public
  */
@@ -1054,6 +1058,10 @@ function bug_copy( $p_bug_id, $p_target_project_id = null, $p_copy_custom_fields
 		}
 	}
 
+	# Create history entries to reflect the copy operation
+	history_log_event_special( $t_new_bug_id, BUG_CREATED_FROM, '', $t_bug_id );
+	history_log_event_special( $t_bug_id, BUG_CLONED_TO, '', $t_new_bug_id );
+
 	return $t_new_bug_id;
 }
 
diff --git a/core/history_api.php b/core/history_api.php
index dbfc30b870..27be7b0902 100644
--- a/core/history_api.php
+++ b/core/history_api.php
@@ -556,12 +556,10 @@ function history_localize_item( $p_field_name, $p_type, $p_old_value, $p_new_val
 					}
 					break;
 				case BUG_CLONED_TO:
-					$t_note = lang_get( 'bug_cloned_to' );
-					$t_change = bug_format_id( $p_new_value );
+					$t_note = lang_get( 'bug_cloned_to' ) . ': ' . bug_format_id( $p_new_value );
 					break;
 				case BUG_CREATED_FROM:
-					$t_note = lang_get( 'bug_created_from' );
-					$t_change = bug_format_id( $p_new_value );
+					$t_note = lang_get( 'bug_created_from' ) . ': ' . bug_format_id( $p_new_value );
 					break;
 				case TAG_ATTACHED:
 					$t_note = lang_get( 'tag_history_attached' ) . ': ' . $p_old_value;
