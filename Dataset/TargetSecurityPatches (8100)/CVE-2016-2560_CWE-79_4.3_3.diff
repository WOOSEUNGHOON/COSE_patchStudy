38fa1191049ac0c626a6684eea52068dfbbb5078
phpmyadmin@@phpmyadmin
diff --git a/js/functions.js b/js/functions.js
index edf8f457eb5..13b81468d66 100644
--- a/js/functions.js
+++ b/js/functions.js
@@ -1840,7 +1840,7 @@ AJAX.registerOnload('functions.js', function () {
         var $inner_sql = $(this).parent().prev().find('code.sql');
         var old_text   = $inner_sql.html();
 
-        var new_content = "" + sql_query + "\n";
+        var new_content = "" + escapeHtml(sql_query) + "\n";
         new_content    += getForeignKeyCheckboxLoader();
         new_content    += "\n";
         new_content    += "\n";
