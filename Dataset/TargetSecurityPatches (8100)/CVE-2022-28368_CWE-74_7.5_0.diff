4c70e1025bcd9b7694b95dd552499bd83cd6141d
dompdf@@dompdf
diff --git a/src/FontMetrics.php b/src/FontMetrics.php
index 8a525cbcd..316fe147b 100644
--- a/src/FontMetrics.php
+++ b/src/FontMetrics.php
@@ -206,7 +206,6 @@ public function registerFont($style, $remoteFile, $context = null)
         }
 
         $cacheEntry = $localFile;
-        $localFile .= ".".strtolower(pathinfo(parse_url($remoteFile, PHP_URL_PATH), PATHINFO_EXTENSION));
 
         $entry[$styleString] = $cacheEntry;
 
@@ -258,6 +257,13 @@ public function registerFont($style, $remoteFile, $context = null)
             return false;
         }
 
+        switch ($font->getFontType()) {
+            case "TrueType":
+            default:
+                $localFile .= ".ttf";
+                break;
+        }
+
         $font->parse();
         $font->saveAdobeFontMetrics("$cacheEntry.ufm");
         $font->close();
