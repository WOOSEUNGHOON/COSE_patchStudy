c9a231d
joyent@@node
diff --git a/src/node_http_parser.cc b/src/node_http_parser.cc
index af372902726..b29afe25690 100644
--- a/src/node_http_parser.cc
+++ b/src/node_http_parser.cc
@@ -148,7 +148,7 @@ struct StringPtr {
   void Update(const char* str, size_t size) {
     if (str_ == NULL)
       str_ = str;
-    else if (on_heap_ || str_ + size != str) {
+    else if (on_heap_ || str_ + size_ != str) {
       // Non-consecutive input, make a copy on the heap.
       // TODO Use slab allocation, O(n) allocs is bad.
       char* s = new char[size_ + size];
