7350e13113c8ed484727a5c25331ec11d4d59f5f
nextcloud@@server
diff --git a/apps/dav/lib/Files/BrowserErrorPagePlugin.php b/apps/dav/lib/Files/BrowserErrorPagePlugin.php
index 5fe6f412f976..9d74ad78062b 100644
--- a/apps/dav/lib/Files/BrowserErrorPagePlugin.php
+++ b/apps/dav/lib/Files/BrowserErrorPagePlugin.php
@@ -80,38 +80,29 @@ public function logException(\Exception $ex) {
 		}
 		$this->server->httpResponse->addHeaders($headers);
 		$this->server->httpResponse->setStatus($httpCode);
-		$body = $this->generateBody($ex);
+		$body = $this->generateBody();
 		$this->server->httpResponse->setBody($body);
 		$this->sendResponse();
 	}
 
 	/**
 	 * @codeCoverageIgnore
-	 * @param \Exception $ex
-	 * @param int $httpCode
 	 * @return bool|string
 	 */
-	public function generateBody(\Exception $exception) {
+	public function generateBody() {
 		$request = \OC::$server->getRequest();
 		$content = new OC_Template('dav', 'exception', 'guest');
 		$content->assign('title', $this->server->httpResponse->getStatusText());
-		$content->assign('message', $exception->getMessage());
-		$content->assign('errorClass', get_class($exception));
-		$content->assign('errorMsg', $exception->getMessage());
-		$content->assign('errorCode', $exception->getCode());
-		$content->assign('file', $exception->getFile());
-		$content->assign('line', $exception->getLine());
-		$content->assign('trace', $exception->getTraceAsString());
-		$content->assign('debugMode', \OC::$server->getSystemConfig()->getValue('debug', false));
 		$content->assign('remoteAddr', $request->getRemoteAddress());
 		$content->assign('requestID', $request->getId());
 		return $content->fetchPage();
 	}
 
-	/*
+	/**
 	 * @codeCoverageIgnore
 	 */
 	public function sendResponse() {
 		$this->server->sapi->sendResponse($this->server->httpResponse);
+		exit();
 	}
 }
diff --git a/apps/dav/templates/exception.php b/apps/dav/templates/exception.php
index 01c4eea4b5ad..e01b5fda2c4c 100644
--- a/apps/dav/templates/exception.php
+++ b/apps/dav/templates/exception.php
@@ -6,25 +6,11 @@
 ?>
 

-		

t('Technical details')) ?>

t('Remote Address: %s', $_['remoteAddr'])) ?>
t('Request ID: %s', $_['requestID'])) ?>
-		
-			t('Type: %s', $_['errorClass'])) ?>
-			t('Code: %s', $_['errorCode'])) ?>
-			t('Message: %s', $_['errorMsg'])) ?>
-			t('File: %s', $_['file'])) ?>
-			t('Line: %s', $_['line'])) ?>
-		

-
-	
-		
-		t('Trace')) ?>
-		
-	

