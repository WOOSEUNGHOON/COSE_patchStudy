3b17ba10a82c71e7808760e027ac6af687e06074
facebook@@wangle
diff --git a/wangle/bootstrap/AcceptRoutingHandler-inl.h b/wangle/bootstrap/AcceptRoutingHandler-inl.h
index d21fda68d..b0b27f39b 100644
--- a/wangle/bootstrap/AcceptRoutingHandler-inl.h
+++ b/wangle/bootstrap/AcceptRoutingHandler-inl.h
@@ -86,8 +86,9 @@ void AcceptRoutingHandler::onRoutingData(
 
   // Fetch the socket from the pipeline and pause reading from the
   // socket
-  auto socket = std::dynamic_pointer_cast(
+  auto socket = std::dynamic_pointer_cast(
       routingPipeline->getTransport());
+  CHECK(socket);
   routingPipeline->transportInactive();
   socket->detachEventBase();
 
